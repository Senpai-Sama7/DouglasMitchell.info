<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Douglas Mitchell — Immersive Portfolio</title>
  <meta name="description" content="Cinematic, interactive showcase for Douglas Mitchell — crafted for GitHub Pages." />
  <meta name="theme-color" content="#0b0f1a" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="https://api.iconify.design/solar:planet-3-outline.svg?color=%237aa8ff">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.6/chart.umd.min.js" integrity="sha512-EuBcM4MIXja+6JGZveHFkNjEcNWef39/C4R2tQeM+c/fiPy8W9jTKlPx1verhiTgG73tZORLVyq/LTa8nYsYww==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <style>
    :root{
      --bg:#060913;--bg-soft:#0b1222;--text:#e7ecf3;--muted:#9fb0c2;--accent:#7aa8ff;--accent-2:#9d7aff;--glass:rgba(15,24,44,.35);--border:rgba(161,180,210,.14);--shadow:0 20px 80px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.04);--radius:22px;--ease:cubic-bezier(.22,.61,.36,1);
    }
    *{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;font-size:16px;line-height:1.4;overflow-x:hidden;}a{color:inherit;text-decoration:none;transition:color .2s var(--ease);}img{max-width:100%;display:block;}
    .wrap{width:min(1200px,94vw);margin:0 auto}
    .glass{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));backdrop-filter:blur(14px) saturate(1.1);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);transition:transform .3s var(--ease),box-shadow .3s var(--ease);}
    #space{position:fixed;inset:0;z-index:-2;display:block;}
    .ambient{position:fixed;inset:0;z-index:-1;pointer-events:none}
    .nebula,.orb,.icosahedron{position:absolute;border-radius:50%;}
    .nebula{background:conic-gradient(from 220deg,rgba(157,122,255,.5),rgba(122,168,255,.35),rgba(255,255,255,0) 70%);width:85vmax;height:85vmax;left:-20vmax;top:-10vmax;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:slowspin 110s linear infinite}
    .orb.o1{background:radial-gradient(circle at 30% 30%,rgba(122,168,255,.45),transparent 60%);width:38vmin;height:38vmin;right:8vmin;top:18vmin;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:float 9s ease-in-out infinite}
    .orb.o2{background:radial-gradient(circle at 60% 40%,rgba(157,122,255,.45),transparent 60%);width:28vmin;height:28vmin;left:6vmin;bottom:10vmin;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:float 11s ease-in-out infinite reverse}
    .icosahedron{width:15vmin;height:15vmin;right:20vmin;bottom:25vmin;background:radial-gradient(circle at center,rgba(122,168,255,0.1),transparent 60%);opacity:.8;animation:slowspin 25s linear infinite reverse}
    .icosahedron::before{content:'';position:absolute;inset:10%;border:1px solid rgba(122,168,255,0.3);border-radius:50%;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);animation:slowspin 15s linear infinite}
    .gridlines{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px);background-size:80px 80px;mask-image:radial-gradient(70% 70% at 50% 40%,black,transparent 70%);opacity:.14;mix-blend-mode:soft-light;transform:perspective(600px) rotateX(50deg) translateY(-10%);filter:blur(.3px);}
    .gate{position:fixed;inset:0;z-index:999;overflow:hidden;background:#000;display:flex;align-items:center;justify-content:center;transition:opacity .6s var(--ease);}
    .gate.hide{opacity:0;pointer-events:none;}
    .gate .brand{text-align:center;color:var(--text);}
    .gate h1{font-size:clamp(32px,6vw,48px);letter-spacing:.08em;text-transform:uppercase;font-weight:800;text-shadow:0 10px 36px rgba(0,0,0,.7);margin-bottom:24px;}
    .loader-container{font-family:'JetBrains Mono',monospace;color:var(--accent);text-shadow:0 0 8px rgba(122,168,255,.5)}
    .loader-bar{height:4px;background:rgba(122,168,255,.15);border-radius:4px;position:relative;overflow:hidden;}
    .loader-progress{position:absolute;top:0;left:0;height:100%;width:0;background:var(--accent);border-radius:4px;transition:width .1s linear;box-shadow:0 0 10px var(--accent);}
    .loader-info{display:flex;justify-content:space-between;font-size:12px;margin-top:10px;opacity:.8;}
    .enter{margin-top:24px;padding:10px 20px;font-weight:600;font-size:14px;border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.06);cursor:pointer;transition:all .2s var(--ease);}
    .enter:hover{background:rgba(255,255,255,.1);transform:scale(1.05);}
    section{padding:80px 0}header{padding:140px 0 80px;text-align:center;}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:999px;font-size:13px;color:var(--muted)}
    .title{font-size:clamp(40px,8vw,94px);font-weight:800;letter-spacing:-.02em;margin:20px 0 10px;line-height:1.1;}
    .subtitle{max-width:820px;font-size:clamp(16px,2.2vw,22px);color:var(--muted);margin:0 auto;}
    .cta{display:flex;justify-content:center;gap:14px;margin-top:32px;flex-wrap:wrap;}
    .btn{padding:14px 22px;border-radius:14px;font-weight:700;border:1px solid var(--border);transition:all .2s var(--ease);} .btn.primary{background:linear-gradient(90deg,rgba(122,168,255,.35),rgba(157,122,255,.35));}
    .btn:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.08),0 0 0 1px rgba(122,168,255,.2);}
    .section-title{font-size:clamp(22px,3vw,30px);margin:0 0 22px 6px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:24px}
    .card{grid-column:span 4;position:relative;overflow:hidden;padding:16px;min-height:280px;display:flex;flex-direction:column;border-radius:var(--radius)}
    .card .content{margin-top:auto;z-index:2}
    .kicker{font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    .name{font-size:24px;font-weight:800;line-height:1.15;}
    .meta{font-size:15px;color:var(--muted)}
    .card .halo{position:absolute;inset:-40%;background:radial-gradient(500px 400px at 20% 20%,rgba(122,168,255,.35),transparent 60%),radial-gradient(400px 320px at 80% 80%,rgba(157,122,255,.35),transparent 60%);filter:blur(40px);opacity:.7;}
    .card.frame{padding:0}
    .card.frame .art-bg{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .4s ease;}
    .card.frame:hover .art-bg{transform:scale(1.05)}
    .card.frame .overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(6,9,19,.85),rgba(6,9,19,.45) 40%,transparent 70%)}
    .card.frame .content{position:absolute;left:14px;right:14px;bottom:14px;border-radius:16px;background:rgba(6,9,19,.5);backdrop-filter:blur(8px);padding:14px}
    #book-section .grid{align-items:center}
    #book-cover{grid-column:span 5}
    #book-details{grid-column:span 7;text-align:left}
    .purchase-item{display:flex;flex-direction:column;gap:8px;align-items:flex-start}
    .chart-container{grid-column:span 6;padding:24px;}
    .kpi-grid{grid-column:span 12;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}
    .kpi-card{text-align:center;padding:20px}
    .kpi-value{font-size:36px;font-weight:800;color:var(--accent)}
    #game-container{grid-column:span 12;position:relative;aspect-ratio:16/9;border-radius:var(--radius);overflow:hidden}
    #game-overlay{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(6,9,19,0.7);color:#fff;text-align:center;z-index:10;transition:opacity .5s ease;}
    #game-overlay.hidden{opacity:0;pointer-events:none}
    #about-card{grid-column:span 12;padding:32px;min-height:400px;display:flex;flex-direction:column}
    #about-slides-container{position:relative;flex:1}
    .about-slide{position:absolute;inset:0;opacity:0;visibility:hidden;transform:translateY(20px) scale(.98);transition:all .5s var(--ease);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:20px}
    .about-slide.active{opacity:1;visibility:visible;transform:translateY(0) scale(1)}
    .toolkit-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:18px;width:80%;}
    .tool-item{color:var(--muted);font-weight:600;transition:color .3s var(--ease),transform .3s var(--ease);}
    .tool-item:hover{color:var(--accent);transform:scale(1.08)}
    #about-nav{margin-top:auto;display:flex;justify-content:space-between;align-items:center;padding-top:20px}
    #about-nav .nav-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-family:inherit;font-size:14px;font-weight:600;padding:8px 16px;border-radius:999px;transition:all .3s var(--ease)}
    #about-nav .nav-btn:hover{background:rgba(255,255,255,0.05);color:var(--text)}
    #about-nav .nav-btn:disabled{opacity:.3;cursor:not-allowed}
    .slide-dots{display:flex;gap:8px}
    .slide-dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.2);transition:background .3s var(--ease)}
    .slide-dot.active{background:var(--accent)}
    .repo-list{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
    .repo{grid-column:span 4;padding:18px;min-height:160px;display:flex;flex-direction:column}
    footer{padding:60px 0 80px;color:var(--muted);text-align:center}
    .tiny{font-family:"JetBrains Mono",ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:12px}
    @media(max-width:980px){.card,.repo,.chart-container{grid-column:span 6}#book-cover,#book-details{grid-column:span 12;text-align:center}}
    @media(max-width:680px){.card,.repo,.chart-container{grid-column:span 12}header{padding-top:110px}.cta{flex-direction:column}.toolkit-grid{width:100%}}
  </style>
</head>
<body data-github-user="senpai-sama7">
  <canvas id="space" aria-hidden="true"></canvas>
  <div class="ambient" aria-hidden="true">
    <div class="nebula"></div>
    <div class="orb o1"></div>
    <div class="orb o2"></div>
    <div class="icosahedron"></div>
    <div class="gridlines"></div>
  </div>
  <div class="gate" id="gate" aria-hidden="true">
    <div class="brand">
      <h1>Douglas Mitchell</h1>
      <div class="loader-container">
        <div class="loader-bar"><div id="loaderProgress" class="loader-progress"></div></div>
        <div class="loader-info"><span id="loaderStatus">SYSTEM CHECK...</span><span id="loaderPercentage">0%</span></div>
      </div>
      <button class="enter" id="enterBtn" aria-label="Enter site">Enter</button>
    </div>
  </div>
  <main>
    <header id="scene-hero" class="wrap">
      <span class="badge">Portfolio • <strong style="margin-left:6px;color:var(--accent);">Creative Technology</strong></span>
      <h1 class="title">Douglas Mitchell</h1>
      <p class="subtitle">Crafting cinematic, intuitive web experiences that feel equal parts imagination and engineering discipline.</p>
      <div class="cta">
        <a class="btn primary glass" href="#scene-projects">Explore Projects</a>
        <a class="btn glass" href="#scene-book">View My Book</a>
        <a class="btn glass" href="https://www.linkedin.com/in/douglas-mitchell-bb18b1383" target="_blank" rel="noopener">LinkedIn</a>
        <a class="btn glass" href="https://github.com/senpai-sama7" target="_blank" rel="noopener">GitHub</a>
      </div>
    </header>
    <section id="scene-projects" class="wrap">
      <h3 class="section-title">Selected Work</h3>
      <div class="grid">
        <a class="card frame glass" href="https://senpai-sama7.github.io/C0Di3/" target="_blank" rel="noopener" style="transition-delay:0s">
          <img class="art-bg" src="https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1200&q=80" alt="Interactive terminal" />
          <div class="overlay"></div>
          <div class="content"><span class="kicker">Live • Front-end</span><div class="name">C0Di3</div><div class="meta">Interactive coding adventure that teaches fundamentals through narrative problem solving.</div></div>
        </a>
        <a class="card frame glass" href="https://synapse-form-backend.vercel.app/" target="_blank" rel="noopener" style="transition-delay:.05s">
          <img class="art-bg" src="https://images.unsplash.com/photo-1526378722443-4c6317ebc273?auto=format&fit=crop&w=1200&q=80" alt="API dashboard" />
          <div class="overlay"></div>
          <div class="content"><span class="kicker">Live • API</span><div class="name">Synapse Form</div><div class="meta">Production-ready form backend with validation, templated email, and analytics hooks.</div></div>
        </a>
        <a class="card frame glass" href="https://senpai-sama7.github.io/Houston-Oil-Airs/" target="_blank" rel="noopener" style="transition-delay:.1s">
          <img class="art-bg" src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=1200&q=80" alt="Data visualization" />
          <div class="overlay"></div>
          <div class="content"><span class="kicker">Live • Data Viz</span><div class="name">Houston Oil Airs</div><div class="meta">A health-centric dashboard translating complex emissions data into cinematic visuals.</div></div>
        </a>
      </div>
    </section>
    <section id="scene-book" class="wrap" style="position:relative;">
      <div class="strong-brain-bg" aria-hidden="true"></div>
      <h3 class="section-title">My Book</h3>
      <div id="book-section" class="grid">
        <div id="book-cover"><img src="https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=640&q=80" alt="The Confident Mind cover" class="glass"></div>
        <div id="book-details">
          <h2 class="name">The Confident Mind</h2>
          <span class="badge" style="margin:10px 0;">Self-Help • Psychology • Personal Growth</span>
          <p class="meta" style="max-width:60ch;margin:20px 0;">A practical guide to diagnose self-doubt, rebuild authentic confidence, and ship the work you believe in. The book distills field-tested exercises from coaching creative technologists.</p>
          <div class="cta" style="margin-top:24px;align-items:flex-start;">
            <div class="purchase-item">
              <div class="meta"><strong>eBook:</strong> $6.99 <s style="color:var(--muted);">$10.99</s></div>
              <a class="btn primary glass" href="https://buy.stripe.com/eVq00j15IfFO0js89Q" target="_blank" rel="noopener">Buy eBook</a>
            </div>
            <div class="purchase-item">
              <div class="meta"><strong>Hardcover:</strong> $12.99 <s style="color:var(--muted);">$19.99</s></div>
              <a class="btn primary glass" href="https://buy.stripe.com/14AfZheWy1OY7LU4XE" target="_blank" rel="noopener">Buy Hardcover</a>
            </div>
            <a class="btn glass" href="https://senpai-sama7.github.io/The-Confident-Mind---BONUS/" target="_blank" rel="noopener">Landing Page &amp; Bonuses</a>
          </div>
          <p class="meta" style="margin-top:24px;">Also available on <a href="https://www.amazon.com/s?k=The+Confident+Mind+Douglas+Mitchell" target="_blank" rel="noopener" style="text-decoration:underline;color:var(--accent);">Amazon</a>.</p>
        </div>
      </div>
    </section>
    <section id="scene-dashboard" class="wrap">
      <h3 class="section-title">Data &amp; Dashboards</h3>
      <div class="grid">
        <div class="kpi-grid glass">
          <div class="kpi-card"><div class="kpi-value" data-target="72000">0</div><div class="kpi-label">Lines of Code</div></div>
          <div class="kpi-card"><div class="kpi-value" data-target="98">0</div><div class="kpi-label">Project Satisfaction (%)</div></div>
          <div class="kpi-card"><div class="kpi-value" data-target="36">0</div><div class="kpi-label">Happy Clients</div></div>
          <div class="kpi-card"><div class="kpi-value" data-target="1280">0</div><div class="kpi-label">Cups of Coffee</div></div>
        </div>
        <div class="chart-container glass"><canvas id="skillsChart" width="400" height="320" aria-label="Skill chart" role="img"></canvas></div>
        <div class="chart-container glass"><canvas id="activityChart" width="400" height="320" aria-label="Activity chart" role="img"></canvas></div>
      </div>
    </section>
    <section id="scene-game" class="wrap">
      <h3 class="section-title">Mini-Game: Astro-Aviator</h3>
      <div class="grid">
        <div id="game-container" class="glass">
          <div id="game-overlay"><h2 class="name">Astro-Aviator</h2><p class="meta">Move your cursor to steer, click to shoot. Survive the asteroid field!</p><button id="startGameBtn" class="btn primary glass" type="button">Start Game</button></div>
          <div id="game-score" class="meta" style="display:none;">Score: 0</div>
          <canvas id="game-canvas"></canvas>
        </div>
      </div>
    </section>
    <section id="scene-about" class="wrap">
      <div class="grid">
        <div id="about-card" class="card glass">
          <div id="about-slides-container">
            <div class="about-slide active" data-slide="0"><h3 class="name">The Philosophy</h3><p class="meta" style="max-width:60ch;">Technology should evoke wonder. I engineer cinematic interfaces that feel effortless, respectful of the user's time, and expressive in motion and tone.</p></div>
            <div class="about-slide" data-slide="1"><h3 class="name">The Toolkit</h3><div class="toolkit-grid"><span class="tool-item">TypeScript</span><span class="tool-item">Next.js</span><span class="tool-item">Node &amp; Vercel</span><span class="tool-item">GSAP</span><span class="tool-item">Three.js</span><span class="tool-item">PostgreSQL</span><span class="tool-item">Figma</span><span class="tool-item">CI/CD</span></div></div>
            <div class="about-slide" data-slide="2"><h3 class="name">The Mission</h3><p class="meta" style="max-width:60ch;">Build quietly confident software—accessible, performant, and kind—while mentoring teams to ship without ego.</p></div>
          </div>
          <div id="about-nav"><button id="about-prev" class="nav-btn" type="button">Back</button><div class="slide-dots"><span class="slide-dot active" data-dot="0"></span><span class="slide-dot" data-dot="1"></span><span class="slide-dot" data-dot="2"></span></div><button id="about-next" class="nav-btn" type="button">Next</button></div>
        </div>
      </div>
    </section>
    <section id="scene-github" class="wrap">
      <h3 class="section-title">Latest from GitHub</h3>
      <div id="repos" class="repo-list"><p class="meta" style="grid-column:span 12;color:var(--muted);">Fetching repositories...</p></div>
    </section>
    <section id="gemini-ideator" class="wrap">
      <div class="reveal" style="text-align:center;"><h3 class="section-title">AI Project Ideator</h3><p class="subtitle">Need inspiration? Tap into a curated prompt list for creative technology experiments.</p><button id="generateIdeaBtn" class="btn primary glass" type="button">Generate Idea ✨</button></div>
      <div class="grid"><div id="idea-container" class="card glass" style="grid-column:span 12;text-align:left;"><p class="meta" style="text-align:center;">Your next great idea will appear here...</p></div></div>
    </section>
  </main>
  <footer class="wrap"><div class="tiny">© <span id="year"></span> Douglas Mitchell. Built for GitHub Pages.</div></footer>
  <script>
    const preferReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const lerp = (a,b,n)=>((1-n)*a)+(n*b);
    /* Gate */
    (function initGate(){
      const gate=document.getElementById('gate');
      const button=document.getElementById('enterBtn');
      const bar=document.getElementById('loaderProgress');
      const pct=document.getElementById('loaderPercentage');
      const status=document.getElementById('loaderStatus');
      if(!gate||!button||!bar||!pct||!status)return;
      document.body.style.overflow='hidden';
      let progress=0;
      const messages=[{pct:0,msg:'SYSTEM CHECK...'},{pct:25,msg:'INITIALIZING STARFIELD...'},{pct:50,msg:'CALIBRATING WARP DRIVE...'},{pct:75,msg:'ENGAGING...'},{pct:100,msg:'WELCOME.'}];
      const interval=setInterval(()=>{
        progress=Math.min(progress+2,100);
        const current=[...messages].reverse().find(s=>progress>=s.pct);
        if(current)status.textContent=current.msg;
        bar.style.width=progress+'%';
        pct.textContent=progress+'%';
        if(progress>=100){clearInterval(interval);setTimeout(()=>{gate.classList.add('hide');document.body.style.overflow='';},400);}  
      },35);
      button.addEventListener('click',()=>{clearInterval(interval);bar.style.width='100%';pct.textContent='100%';status.textContent='WELCOME.';setTimeout(()=>{gate.classList.add('hide');document.body.style.overflow='';},300);});
      setTimeout(()=>{if(progress===0){status.textContent='BOOTING...';}},800);
    })();
    /* Space canvas */
    (function initSpaceCanvas(){
      const canvas=document.getElementById('space');if(!canvas)return;const ctx=canvas.getContext('2d');let w,h,dpr;const stars=[];const count=450;const mouse={x:window.innerWidth/2,y:window.innerHeight/2,ex:window.innerWidth/2,ey:window.innerHeight/2};
      function resize(){dpr=Math.min(window.devicePixelRatio||1,2);w=canvas.width=window.innerWidth*dpr;h=canvas.height=window.innerHeight*dpr;canvas.style.width=window.innerWidth+'px';canvas.style.height=window.innerHeight+'px';ctx.setTransform(dpr,0,0,dpr,0,0);} resize();
      for(let i=0;i<count;i++){stars.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,z:Math.random()*0.8+0.2,r:Math.random()*1.4+0.2});}
      function draw(){ctx.clearRect(0,0,window.innerWidth,window.innerHeight);mouse.ex=lerp(mouse.ex,mouse.x,0.05);mouse.ey=lerp(mouse.ey,mouse.y,0.05);stars.forEach(s=>{const px=s.x,py=s.y;s.x+=s.z*1.2;if(s.x>window.innerWidth+10){s.x=-10;s.y=Math.random()*window.innerHeight;}const parallaxX=(mouse.ex-window.innerWidth/2)*(s.z*0.05);const parallaxY=(mouse.ey-window.innerHeight/2)*(s.z*0.05);ctx.fillStyle=`rgba(231,236,243,${0.8*s.z})`;ctx.beginPath();ctx.arc(s.x+parallaxX,s.y+parallaxY,s.r*s.z,0,Math.PI*2);ctx.fill();ctx.strokeStyle=`rgba(231,236,243,${0.4*s.z})`;ctx.lineWidth=s.r*s.z;ctx.beginPath();ctx.moveTo(px+parallaxX,py+parallaxY);ctx.lineTo(s.x+parallaxX,s.y+parallaxY);ctx.stroke();});if(!preferReduced)requestAnimationFrame(draw);}draw();
      window.addEventListener('resize',resize);window.addEventListener('mousemove',e=>{mouse.x=e.clientX;mouse.y=e.clientY;});
    })();
    /* KPI counters + charts */
    (function initDashboard(){const counters=document.querySelectorAll('.kpi-value[data-target]');const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){counters.forEach(el=>{const target=parseFloat(el.dataset.target||'0');let current=0;const duration=1200;const step=16;const inc=target/(duration/step);const suffix=target>=1000?'K+':'';const timer=setInterval(()=>{current+=inc;if(current>=target){current=target;clearInterval(timer);}el.textContent=suffix?`${(current/1000).toFixed(1)}K+`:Math.round(current);},step);});observer.disconnect();}});}, {threshold:0.4});const kpi=document.querySelector('.kpi-grid');if(kpi)observer.observe(kpi);
      const polarCtx=document.getElementById('skillsChart');const lineCtx=document.getElementById('activityChart');if(polarCtx){new Chart(polarCtx,{type:'radar',data:{labels:['Design','Frontend','Backend','Animation','Strategy','DevOps'],datasets:[{data:[92,95,78,88,90,70],backgroundColor:'rgba(122,168,255,0.2)',borderColor:'rgba(122,168,255,1)',pointBackgroundColor:'rgba(122,168,255,1)'}]},options:{scales:{r:{grid:{color:'rgba(161,180,210,0.2)'},angleLines:{color:'rgba(161,180,210,0.2)'},ticks:{display:false},pointLabels:{color:'var(--muted)'}}},plugins:{legend:{display:false}}});}
      if(lineCtx){new Chart(lineCtx,{type:'line',data:{labels:['Jan','Feb','Mar','Apr','May','Jun'],datasets:[{label:'Commits',data:[65,78,82,88,74,96],fill:true,backgroundColor:'rgba(157,122,255,0.2)',borderColor:'rgba(157,122,255,1)',tension:0.4}]},options:{plugins:{legend:{display:false}},scales:{x:{ticks:{color:'var(--muted)'},grid:{color:'rgba(161,180,210,0.1)'}},y:{ticks:{color:'var(--muted)'},grid:{color:'rgba(161,180,210,0.1)'},suggestedMin:50}}});}
    })();
    /* Mini game */
    (function initAstroAviator(){const container=document.getElementById('game-container');const canvas=document.getElementById('game-canvas');const overlay=document.getElementById('game-overlay');const startBtn=document.getElementById('startGameBtn');const scoreEl=document.getElementById('game-score');if(!container||!canvas||!startBtn||!overlay||!scoreEl)return;const ctx=canvas.getContext('2d');const mouse={x:canvas.width/2,y:canvas.height/2};let player,asteroids,bullets,powerUps,score,gameOver,animationFrame,lastShot=0,shootCooldown=250;
      function resize(){canvas.width=container.clientWidth;canvas.height=container.clientHeight;}resize();window.addEventListener('resize',resize);
      function reset(){player={x:canvas.width/4,y:canvas.height/2};asteroids=[];bullets=[];powerUps=[];score=0;gameOver=false;shootCooldown=250;lastShot=0;scoreEl.style.display='block';scoreEl.textContent='Score: 0';overlay.classList.add('hidden');}
      function spawnAsteroid(){asteroids.push({x:canvas.width+20,y:Math.random()*canvas.height,size:Math.random()*25+12,speed:Math.random()*2+1});}
      function spawnPowerUp(x,y){powerUps.push({x,y,type:'rapid',color:'#ffdd00'});}
      function shoot(){const now=Date.now();if(now-lastShot>shootCooldown){lastShot=now;bullets.push({x:player.x+18,y:player.y});}}
      function activatePowerUp(){shootCooldown=120;setTimeout(()=>shootCooldown=250,5000);}
      function loop(){if(gameOver){overlay.classList.remove('hidden');overlay.querySelector('.name').textContent='Game Over';overlay.querySelector('.meta').textContent=`Final Score: ${score}`;overlay.querySelector('button').textContent='Play Again';scoreEl.style.display='none';return;}
        ctx.clearRect(0,0,canvas.width,canvas.height);player.x=lerp(player.x,mouse.x,0.08);player.y=lerp(player.y,mouse.y,0.08);ctx.fillStyle='#fff';ctx.beginPath();ctx.moveTo(player.x+15,player.y);ctx.lineTo(player.x-15,player.y-12);ctx.lineTo(player.x-15,player.y+12);ctx.closePath();ctx.fill();bullets.forEach((b,i)=>{b.x+=10;if(b.x>canvas.width)bullets.splice(i,1);ctx.fillStyle='#7aa8ff';ctx.fillRect(b.x,b.y-2,8,4);});powerUps.forEach((p,i)=>{p.x-=1;ctx.fillStyle=p.color;ctx.beginPath();ctx.arc(p.x,p.y,10,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#fff';ctx.stroke();if(Math.hypot(player.x-p.x,player.y-p.y)<22){activatePowerUp();powerUps.splice(i,1);}else if(p.x<0){powerUps.splice(i,1);}});
        if(Math.random()<0.02+score/60000)spawnAsteroid();asteroids.forEach((a,i)=>{a.x-=a.speed;ctx.strokeStyle='#9fb0c2';ctx.strokeRect(a.x,a.y,a.size,a.size);bullets.forEach((b,j)=>{if(b.x>a.x&&b.x<a.x+a.size&&b.y>a.y&&b.y<a.y+a.size){bullets.splice(j,1);asteroids.splice(i,1);score+=120;if(Math.random()<0.18)spawnPowerUp(a.x,a.y);}});if(a.x+a.size<0)asteroids.splice(i,1);if(Math.hypot(player.x-(a.x+a.size/2),player.y-(a.y+a.size/2))<a.size/1.6){gameOver=true;}});
        score++;scoreEl.textContent=`Score: ${score}`;animationFrame=requestAnimationFrame(loop);} 
      startBtn.addEventListener('click',()=>{reset();cancelAnimationFrame(animationFrame);animationFrame=requestAnimationFrame(loop);});
      container.addEventListener('click',shoot);container.addEventListener('mousemove',e=>{const rect=canvas.getBoundingClientRect();mouse.x=e.clientX-rect.left;mouse.y=e.clientY-rect.top;});
    })();
    /* About deck */
    (function(){const slides=document.querySelectorAll('.about-slide');const dots=document.querySelectorAll('.slide-dot');const prev=document.getElementById('about-prev');const next=document.getElementById('about-next');let index=0;const total=slides.length;const update=()=>{slides.forEach((slide,i)=>slide.classList.toggle('active',i===index));dots.forEach((dot,i)=>dot.classList.toggle('active',i===index));if(prev)prev.disabled=index===0;if(next)next.disabled=index===total-1;};next?.addEventListener('click',()=>{if(index<total-1){index++;update();}});prev?.addEventListener('click',()=>{if(index>0){index--;update();}});dots.forEach(dot=>dot.addEventListener('click',()=>{const target=parseInt(dot.dataset.dot,10);if(!Number.isNaN(target)){index=target;update();}}));update();})();
    /* GitHub Repos */
    async function loadRepos(){const user=document.body.dataset.githubUser||'senpai-sama7';const target=document.getElementById('repos');if(!target)return;try{const res=await fetch(`https://api.github.com/users/${user}/repos?sort=updated&per_page=6`);if(!res.ok)throw new Error(res.statusText);const data=await res.json();target.innerHTML='';data.slice(0,6).forEach((repo,i)=>{const el=document.createElement('a');el.href=repo.html_url;el.target='_blank';el.rel='noopener';el.className='repo glass';el.style.transitionDelay=`${i*0.05}s`;el.innerHTML=`<h4>${repo.name}</h4><p>${repo.description||'No description provided.'}</p><p class="tiny" style="margin-top:auto;opacity:.8">★ ${repo.stargazers_count} • ${repo.language||'n/a'}</p>`;target.appendChild(el);});if(!target.children.length){target.innerHTML='<p class="meta" style="grid-column:span 12;color:var(--muted);">No repositories found.</p>';}}catch(err){console.warn('GitHub API error',err);target.innerHTML='<p class="meta" style="grid-column:span 12;color:var(--muted);">GitHub API rate limit reached.</p>';}}
    loadRepos();
    /* Idea generator */
    (function initIdeas(){const button=document.getElementById('generateIdeaBtn');const container=document.getElementById('idea-container');if(!button||!container)return;const ideas=[
      {title:'Celestial Soundscape',pitch:'An ambient solar system where each planet plays its own chord.',description:'Hover and explore; every orbit triggers audio loops derived from NASA orbital data.',tech:['Three.js','Web Audio API','NASA API']},
      {title:'Shader Sketchpad',pitch:'A minimal GLSL playground you can share with one URL.',description:'Edit fragment shaders with live preview and save variations to the cloud.',tech:['WebGL','CodeMirror','Supabase']},
      {title:'Sentiment Aurora',pitch:'Visualize global sentiment as an evolving aurora borealis.',description:'Streams topic sentiment from social APIs and maps emotions to light gradients.',tech:['WebSockets','D3.js','NLP']}
    ];let last=-1;button.addEventListener('click',()=>{button.disabled=true;container.classList.add('glass');container.innerHTML='<p class="meta" style="text-align:center;">Conjuring a concept... ✨</p>';setTimeout(()=>{let idx;do{idx=Math.floor(Math.random()*ideas.length);}while(idx===last);last=idx;const idea=ideas[idx];container.innerHTML=`<span class="kicker">Project Concept</span><h3 class="name" style="margin:4px 0 8px;">${idea.title}</h3><p class="meta" style="font-style:italic;">"${idea.pitch}"</p><p class="meta">${idea.description}</p><div style="margin-top:16px;display:flex;gap:8px;flex-wrap:wrap;">${idea.tech.map(t=>`<span class=\"badge\">${t}</span>`).join('')}</div>`;button.disabled=false;},1000);});})();
    document.getElementById('year').textContent=new Date().getFullYear();
  </script>
</body>
</html>
