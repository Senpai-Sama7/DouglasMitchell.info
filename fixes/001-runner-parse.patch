diff --git a/scripts/run-unit-tests.mjs b/scripts/run-unit-tests.mjs
index 55dc4f0..43f28d9 100755
--- a/scripts/run-unit-tests.mjs
+++ b/scripts/run-unit-tests.mjs
@@ -180,18 +180,56 @@ class TestRunner {
 
   parseTestResults(stdout, stderr) {
     const lines = stdout.split('\n')
-    let testCount = 0
+    let testsFromSummary = false
     let passCount = 0
     let failCount = 0
+    let testCount = 0
+
+    for (const rawLine of lines) {
+      const line = rawLine.trim()
+
+      const summaryMatch = line.match(/^#\s+(tests|pass|fail)\s+(\d+)/i)
+      if (summaryMatch) {
+        testsFromSummary = true
+        const [, key, value] = summaryMatch
+        const count = Number.parseInt(value, 10) || 0
+        if (key.toLowerCase() === 'tests') {
+          testCount = count
+        } else if (key.toLowerCase() === 'pass') {
+          passCount = count
+        } else if (key.toLowerCase() === 'fail') {
+          failCount = count
+        }
+        continue
+      }
 
-    for (const line of lines) {
-      if (line.includes('✓') || line.includes('pass')) {
+      if (line.startsWith('ok ')) {
         passCount++
         testCount++
-      } else if (line.includes('✗') || line.includes('fail')) {
+        continue
+      }
+
+      if (line.startsWith('not ok')) {
         failCount++
         testCount++
+        continue
       }
+
+      if (line.startsWith('✓ ')) {
+        passCount++
+        testCount++
+        continue
+      }
+
+      if (line.startsWith('✗ ')) {
+        failCount++
+        testCount++
+        continue
+      }
+    }
+
+    if (testsFromSummary && testCount === 0) {
+      testCount = passCount + failCount
     }
 
     this.results.total = testCount
